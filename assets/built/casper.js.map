{"version":3,"sources":["jquery.fitvids.js","fluidbox-ghost-blog-plugin.js","gallery-card.js","infinite-scroll.js"],"names":["$","fn","fitVids","options","head","div","settings","customSelector","ignore","document","getElementById","getElementsByTagName","createElement","innerHTML","appendChild","childNodes","extend","this","each","selectors","push","ignoreList","$allVideos","find","join","not","aspectRatio","videoName","$this","parents","length","tagName","toLowerCase","parent","css","isNaN","attr","parseInt","height","width","_count","wrap","removeAttr","window","jQuery","Zepto","fluidboxGhostConfig","theme","showCaption","b","c","a","Cowboy","throttle","e","f","j","i","h","d","g","o","m","Date","n","arguments","l","apply","clearTimeout","setTimeout","guid","debounce","element","data","replace","slice","viewportFill","Math","max","min","parseFloat","stackIndex","stackIndexDelta","_name","init","immediateOpen","loader","maxWidth","maxHeight","resizeThrottle","console","warn","isFunction","transition","OTransition","MozTransition","WebkitTransition","style","k","dom","class","zIndex","addClass","wrapInner","first","opacity","after","append","prepareFb","trigger","measure","fbElements","call","bindEvents","bindListeners","viewport","w","instanceData","thumb","natW","naturalWidth","natH","naturalHeight","top","offset","left","checkURL","test","formatURL","prototype","initialized","is","children","removeClass","originalNode","html","id","Image","onload","onerror","src","open","state","off","fluidbox","close","background-image","compute","one","error","r","s","q","t","scrollTop","u","v","transform","recompute","match","remove","on","preventDefault","hasClass","reposition","destroy","unbind","empty","getMetadata","Array","fluidboxGhost","targetImages","matchImageSelectors","backgroundColor","styleSheets","insertRule","cssRules","activeImage","appendTo","index","el","insertAfter","next","newRule","caption","text","scrollPosition","scroll","currentScrollPosition","abs","allImages","addEventListener","event","stopImmediatePropagation","stopPropagation","key","currentImageIndex","querySelectorAll","forEach","image","container","closest","ratio","attributes","value","flex","feedElement","buffer","ticking","loading","lastScrollY","lastWindowHeight","lastDocumentHeight","nextElement","querySelector","onPageLoad","status","removeEventListener","onScroll","onResize","response","item","importNode","resNextElement","href","documentElement","scrollHeight","onUpdate","xhr","XMLHttpRequest","responseType","send","requestTick","requestAnimationFrame","scrollY","innerHeight","passive"],"mappings":"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","file":"casper.js","sourcesContent":["/*jshint browser:true */\n/*!\n* FitVids 1.3\n*\n*\n* Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation\n* This is an unofficial release, ported by John O'Nolan\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the MIT license\n*\n*/\n\n;(function( $ ){\n\n  'use strict';\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement(\"div\");\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        'iframe[src*=\"player.vimeo.com\"]',\n        'iframe[src*=\"youtube.com\"]',\n        'iframe[src*=\"youtube-nocookie.com\"]',\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n        'object',\n        'embed'\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if(settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\n        {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('name')){\n          var videoName = 'fitvid' + $.fn.fitVids._count;\n          $this.attr('name', videoName);\n          $.fn.fitVids._count++;\n        }\n        $this.wrap('<div class=\"fluid-width-video-container\"><div class=\"fluid-width-video-wrapper\"></div></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n\n  // Internal counter for unique video names.\n  $.fn.fitVids._count = 0;\n\n// Works with either jQuery or Zepto\n})( window.jQuery || window.Zepto );\n","/*\n * fluidbox-ghost-blog-plugin, modified\n */\n\nwindow.fluidboxGhostConfig = {\n  theme: 'hsla(0, 0%, 100%, .85)', // Options: light, dark, image-backdrop, hsla(262, 100%, 82%, 0.6)\n  showCaption: false, // Sets whether to capture the caption and show it below the image when expanded\n};\n\n/*\n * jQuery throttle / debounce - v1.1 - 3/7/2010\n * http://benalman.com/projects/jquery-throttle-debounce-plugin/\n * \n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!==\"boolean\"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);\n\n/**\n * fluidbox/2.0.5/js/jquery.fluidbox.min.js\n */\n!function(a,b,c,d){\"use strict\";function e(b,c){this.element=b;var d={};a.each(a(this.element).data(),function(a,b){var c=function(a){return a&&a[0].toLowerCase()+a.slice(1)},e=c(a.replace(\"fluidbox\",\"\"));(\"\"!==e||null!==e)&&(\"false\"==b?b=!1:\"true\"==b&&(b=!0),d[e]=b)}),this.settings=a.extend({},h,c,d),this.settings.viewportFill=Math.max(Math.min(parseFloat(this.settings.viewportFill),1),0),this.settings.stackIndex<this.settings.stackIndexDelta&&(settings.stackIndexDelta=settings.stackIndex),this._name=g,this.init()}var f=a(b),g=(a(c),\"fluidbox\"),h={immediateOpen:!1,loader:!1,maxWidth:0,maxHeight:0,resizeThrottle:500,stackIndex:1e3,stackIndexDelta:10,viewportFill:.95},i={},j=0;(\"undefined\"==typeof console||\"undefined\"===console.warn)&&(console={},console.warn=function(){}),a.isFunction(a.throttle)||console.warn(\"Fluidbox: The jQuery debounce/throttle plugin is not found/loaded. Even though Fluidbox works without it, the window resize event will fire extremely rapidly in browsers, resulting in significant degradation in performance upon viewport resize.\");var k=function(){var a,b=c.createElement(\"fakeelement\"),e={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(a in e)if(b.style[a]!==d)return e[a]},l=k(),m={dom:function(){var b=a(\"<div />\",{\"class\":\"fluidbox__wrap\",css:{zIndex:this.settings.stackIndex-this.settings.stackIndexDelta}});if(a(this.element).addClass(\"fluidbox--closed\").wrapInner(b).find(\"img\").first().css({opacity:1}).addClass(\"fluidbox__thumb\").after('<div class=\"fluidbox__ghost\" />'),this.settings.loader){var c=a(\"<div />\",{\"class\":\"fluidbox__loader\",css:{zIndex:2}});a(this.element).find(\".fluidbox__wrap\").append(c)}},prepareFb:function(){var b=this,c=a(this.element);c.trigger(\"thumbloaddone.fluidbox\"),m.measure.fbElements.call(this),b.bindEvents(),c.addClass(\"fluidbox--ready\"),b.bindListeners(),c.trigger(\"ready.fluidbox\")},measure:{viewport:function(){i.viewport={w:f.width(),h:f.height()}},fbElements:function(){var b=this,c=a(this.element),d=c.find(\"img\").first(),e=c.find(\".fluidbox__ghost\"),f=c.find(\".fluidbox__wrap\");b.instanceData.thumb={natW:d[0].naturalWidth,natH:d[0].naturalHeight,w:d.width(),h:d.height()},e.css({width:d.width(),height:d.height(),top:d.offset().top-f.offset().top+parseInt(d.css(\"borderTopWidth\"))+parseInt(d.css(\"paddingTop\")),left:d.offset().left-f.offset().left+parseInt(d.css(\"borderLeftWidth\"))+parseInt(d.css(\"paddingLeft\"))})}},checkURL:function(a){var b=0;return/[\\s+]/g.test(a)?(console.warn(\"Fluidbox: Fluidbox opening is halted because it has detected characters in your URL string that need to be properly encoded/escaped. Whitespace(s) have to be escaped manually. See RFC3986 documentation.\"),b=1):/[\\\"\\'\\(\\)]/g.test(a)&&(console.warn(\"Fluidbox: Fluidbox opening will proceed, but it has detected characters in your URL string that need to be properly encoded/escaped. These will be escaped for you. See RFC3986 documentation.\"),b=0),b},formatURL:function(a){return a.replace(/\"/g,\"%22\").replace(/'/g,\"%27\").replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\")}};a.extend(e.prototype,{init:function(){var b=this,c=a(this.element),d=c.find(\"img\").first();if(m.measure.viewport(),(!b.instanceData||!b.instanceData.initialized)&&c.is(\"a\")&&1===c.children().length&&(c.children().is(\"img\")||c.children().is(\"picture\")&&1===c.find(\"img\").length)&&\"none\"!==c.css(\"display\")&&\"none\"!==c.children().css(\"display\")&&\"none\"!==c.parents().css(\"display\")){c.removeClass(\"fluidbox--destroyed\"),b.instanceData={},b.instanceData.initialized=!0,b.instanceData.originalNode=c.html(),j+=1,b.instanceData.id=j,c.addClass(\"fluidbox__instance-\"+j),c.addClass(\"fluidbox--initialized\"),m.dom.call(b),c.trigger(\"init.fluidbox\");var e=new Image;d.width()>0&&d.height()>0?m.prepareFb.call(b):(e.onload=function(){m.prepareFb.call(b)},e.onerror=function(){c.trigger(\"thumbloadfail.fluidbox\")},e.src=d.attr(\"src\"))}},open:function(){var b=this,c=a(this.element),d=c.find(\"img\").first(),e=c.find(\".fluidbox__ghost\"),f=c.find(\".fluidbox__wrap\");b.instanceData.state=1,e.off(l),a(\".fluidbox--opened\").fluidbox(\"close\");var g=a(\"<div />\",{\"class\":\"fluidbox__overlay\",css:{zIndex:-1}});if(f.append(g),c.removeClass(\"fluidbox--closed\").addClass(\"fluidbox--loading\"),m.checkURL(d.attr(\"src\")))return b.close(),!1;e.css({\"background-image\":\"url(\"+m.formatURL(d.attr(\"src\"))+\")\",opacity:1}),m.measure.fbElements.call(b);var h;b.settings.immediateOpen?(c.addClass(\"fluidbox--opened fluidbox--loaded\").find(\".fluidbox__wrap\").css({zIndex:b.settings.stackIndex+b.settings.stackIndexDelta}),c.trigger(\"openstart.fluidbox\"),b.compute(),d.css({opacity:0}),a(\".fluidbox__overlay\").css({opacity:1}),e.one(l,function(){c.trigger(\"openend.fluidbox\")}),h=new Image,h.onload=function(){if(c.trigger(\"imageloaddone.fluidbox\"),1===b.instanceData.state){if(b.instanceData.thumb.natW=h.naturalWidth,b.instanceData.thumb.natH=h.naturalHeight,c.removeClass(\"fluidbox--loading\"),m.checkURL(h.src))return b.close({error:!0}),!1;e.css({\"background-image\":\"url(\"+m.formatURL(h.src)+\")\"}),b.compute()}},h.onerror=function(){b.close({error:!0}),c.trigger(\"imageloadfail.fluidbox\"),c.trigger(\"delayedloadfail.fluidbox\")},h.src=c.attr(\"href\")):(h=new Image,h.onload=function(){return c.trigger(\"imageloaddone.fluidbox\"),c.removeClass(\"fluidbox--loading\").addClass(\"fluidbox--opened fluidbox--loaded\").find(\".fluidbox__wrap\").css({zIndex:b.settings.stackIndex+b.settings.stackIndexDelta}),c.trigger(\"openstart.fluidbox\"),m.checkURL(h.src)?(b.close({error:!0}),!1):(e.css({\"background-image\":\"url(\"+m.formatURL(h.src)+\")\"}),b.instanceData.thumb.natW=h.naturalWidth,b.instanceData.thumb.natH=h.naturalHeight,b.compute(),d.css({opacity:0}),a(\".fluidbox__overlay\").css({opacity:1}),void e.one(l,function(){c.trigger(\"openend.fluidbox\")}))},h.onerror=function(){b.close({error:!0}),c.trigger(\"imageloadfail.fluidbox\")},h.src=c.attr(\"href\"))},compute:function(){var b=this,c=a(this.element),d=c.find(\"img\").first(),e=c.find(\".fluidbox__ghost\"),g=c.find(\".fluidbox__wrap\"),h=b.instanceData.thumb.natW,j=b.instanceData.thumb.natH,k=b.instanceData.thumb.w,l=b.instanceData.thumb.h,m=h/j,n=i.viewport.w/i.viewport.h;b.settings.maxWidth>0?(h=b.settings.maxWidth,j=h/m):b.settings.maxHeight>0&&(j=b.settings.maxHeight,h=j*m);var o,p,q,r,s;n>m?(o=j<i.viewport.h?j:i.viewport.h*b.settings.viewportFill,q=o/l,r=h*(l*q/j)/k,s=q):(p=h<i.viewport.w?h:i.viewport.w*b.settings.viewportFill,r=p/k,q=j*(k*r/h)/l,s=r),b.settings.maxWidth&&b.settings.maxHeight&&console.warn(\"Fluidbox: Both maxHeight and maxWidth are specified. You can only specify one. If both are specified, only the maxWidth property will be respected. This will not generate any error, but may cause unexpected sizing behavior.\");var t=f.scrollTop()-d.offset().top+.5*(l*(s-1))+.5*(f.height()-l*s),u=.5*(k*(s-1))+.5*(f.width()-k*s)-d.offset().left,v=parseInt(100*r)/100+\",\"+parseInt(100*q)/100;e.css({transform:\"translate(\"+parseInt(100*u)/100+\"px,\"+parseInt(100*t)/100+\"px) scale(\"+v+\")\",top:d.offset().top-g.offset().top,left:d.offset().left-g.offset().left}),c.find(\".fluidbox__loader\").css({transform:\"translate(\"+parseInt(100*u)/100+\"px,\"+parseInt(100*t)/100+\"px) scale(\"+v+\")\"}),c.trigger(\"computeend.fluidbox\")},recompute:function(){this.compute()},close:function(b){var c=this,e=a(this.element),f=e.find(\"img\").first(),g=e.find(\".fluidbox__ghost\"),h=e.find(\".fluidbox__wrap\"),i=e.find(\".fluidbox__overlay\"),j=a.extend(null,{error:!1},b);return null===c.instanceData.state||typeof c.instanceData.state==typeof d||0===c.instanceData.state?!1:(c.instanceData.state=0,e.trigger(\"closestart.fluidbox\"),e.removeClass(function(a,b){return(b.match(/(^|\\s)fluidbox--(opened|loaded|loading)+/g)||[]).join(\" \")}).addClass(\"fluidbox--closed\"),g.css({transform:\"translate(0,0) scale(1,1)\",top:f.offset().top-h.offset().top+parseInt(f.css(\"borderTopWidth\"))+parseInt(f.css(\"paddingTop\")),left:f.offset().left-h.offset().left+parseInt(f.css(\"borderLeftWidth\"))+parseInt(f.css(\"paddingLeft\"))}),e.find(\".fluidbox__loader\").css({transform:\"none\"}),g.one(l,function(){g.css({opacity:0}),f.css({opacity:1}),i.remove(),h.css({zIndex:c.settings.stackIndex-c.settings.stackIndexDelta}),e.trigger(\"closeend.fluidbox\")}),j.error&&g.trigger(\"transitionend\"),void i.css({opacity:0}))},bindEvents:function(){var b=this,c=a(this.element);c.on(\"click.fluidbox\",function(a){a.preventDefault(),b.instanceData.state&&0!==b.instanceData.state?b.close():b.open()})},bindListeners:function(){var b=this,c=a(this.element),d=function(){m.measure.viewport(),m.measure.fbElements.call(b),c.hasClass(\"fluidbox--opened\")&&b.compute()};a.isFunction(a.throttle)?f.on(\"resize.fluidbox\"+b.instanceData.id,a.throttle(b.settings.resizeThrottle,d)):f.on(\"resize.fluidbox\"+b.instanceData.id,d),c.on(\"reposition.fluidbox\",function(){b.reposition()}),c.on(\"recompute.fluidbox, compute.fluidbox\",function(){b.compute()}),c.on(\"destroy.fluidbox\",function(){b.destroy()}),c.on(\"close.fluidbox\",function(){b.close()})},unbind:function(){a(this.element).off(\"click.fluidbox reposition.fluidbox recompute.fluidbox compute.fluidbox destroy.fluidbox close.fluidbox\"),f.off(\"resize.fluidbox\"+this.instanceData.id)},reposition:function(){m.measure.fbElements.call(this)},destroy:function(){var b=this.instanceData.originalNode;this.unbind(),a.data(this.element,\"plugin_\"+g,null),a(this.element).removeClass(function(a,b){return(b.match(/(^|\\s)fluidbox[--|__]\\S+/g)||[]).join(\" \")}).empty().html(b).addClass(\"fluidbox--destroyed\").trigger(\"destroyed.fluidbox\")},getMetadata:function(){return this.instanceData}}),a.fn[g]=function(b){var c=arguments;if(b===d||\"object\"==typeof b)return this.each(function(){a.data(this,\"plugin_\"+g)||a.data(this,\"plugin_\"+g,new e(this,b))});if(\"string\"==typeof b&&\"_\"!==b[0]&&\"init\"!==b){var f;return this.each(function(){var d=a.data(this,\"plugin_\"+g);d instanceof e&&\"function\"==typeof d[b]?f=d[b].apply(d,Array.prototype.slice.call(c,1)):{}}),f!==d?f:this}return this}}(jQuery,window,document);\n\nwindow.fluidboxGhost = $(function(){\n    let targetImages = window.fluidboxGhostConfig.matchImageSelectors || [\n      '.kg-gallery-image img', // gallery images\n      '.kg-card img', // lll inline images\n      '.article-image img', // featured images\n      // 'p > img', // all images added via markdown\n    ];\n\n    let backgroundColor;\n    let theme = window.fluidboxGhostConfig.theme || 'dark'; // dark, light, image, hsla(0, 0%, 15%, 0.85)\n    if(theme === 'image-backdrop'){\n      backgroundColor = '#212121';\n    }else if(theme === 'light'){\n      backgroundColor = 'hsla(0, 0%, 100%, .85)'\n    }else if(theme === 'dark'){\n      backgroundColor = 'hsla(0, 0%, 15%, 0.85)'\n    }else{\n      backgroundColor = theme;\n    }\n\n    document.styleSheets[0].insertRule(\".fluidbox__wrap .fluidbox__overlay{ background-color: \" + backgroundColor + \"!important; }\", document.styleSheets[0].cssRules.length);\n\n    let showCaption = window.fluidboxGhostConfig.showCaption;\n\n    let activeImage = null;\n    // Appends a cpation to the page\n    var $caption = $('<div />', { 'id': 'caption-overlay' });\n    $caption\n      .html('<div class=\"img-caption\"></div>')\n      .appendTo($('body'));\n\n    // Finds all of our\n    $(targetImages.join(',')).each(function (index, el) {\n      $(\"<a href='\" + $(this).attr('src') + \"' class='zoom'></a>\").insertAfter($(this));\n      $(this).appendTo($(this).next(\"a\"));\n    });\n\n    // Initialize Fluidbox\n    $(\".zoom:not(.fluidbox--opened)\").fluidbox({\n      loader: true,\n      immediateOpen: true,\n    }).on('openstart.fluidbox', function() {\n      if(theme === 'image-backdrop'){\n        var $img = $(this).find('img');\n        let imgSrc = $img.attr('src');\n        let newRule = 'background-image: url(\"' + imgSrc + '\") !important;';\n        document.styleSheets[0].insertRule(\".fluidbox__overlay::before{\"+ newRule + \"}\", document.styleSheets[0].cssRules.length);\n      }\n    }).on('openend.fluidbox', function() {\n      activeImage = this;\n      if(showCaption){\n        let caption = $(this).parents('figure').find('figcaption').html()\n        if(caption && caption.length > 0){\n          $('#caption-overlay')\n            .addClass('visible')\n            .find('.img-caption').text(caption)\n        }\n      }\n    })\n      .on('closestart.fluidbox', function() {\n        activeImage = null;\n        $('#caption-overlay').removeClass('visible');\n      });\n\n\n    var scrollPosition = 0;\n    $(window).scroll($.throttle(250, function(){\n      var currentScrollPosition = $(window).scrollTop();\n\n      // If has scrolled beyond plus/minus 60 pixels\n      if (Math.abs(currentScrollPosition - scrollPosition) > 60)\n        $('a').fluidbox('close');\n\n      // Update global scroll position store\n      scrollPosition = currentScrollPosition;\n    }));\n\n    setTimeout(()=> {\n      let allImages = $('.zoom');\n\n      window.addEventListener('keydown', function(event) {\n\n        if(!activeImage){ return; }\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        event.stopPropagation();\n        const key = event.key; // \"ArrowRight\", \"ArrowLeft\", \"ArrowUp\", or \"ArrowDown\"\n\n        let currentImageIndex = allImages.index(activeImage);\n\n        if(key === 'ArrowRight' || key === 'ArrowDown'){\n          currentImageIndex++;\n        }else if(key === 'ArrowLeft' || key === 'ArrowUp'){\n          currentImageIndex--;\n        }\n        $(allImages[currentImageIndex]).trigger('click');\n      });\n    }, 500);\n});\n","/* eslint-env browser */\n\n/**\n * Gallery card support\n * Used on any individual post/page\n *\n * Detects when a gallery card has been used and applies sizing to make sure\n * the display matches what is seen in the editor.\n */\n\n(function (window, document) {\n    var resizeImagesInGalleries = function resizeImagesInGalleries() {\n        var images = document.querySelectorAll('.kg-gallery-image img');\n        images.forEach(function (image) {\n            var container = image.closest('.kg-gallery-image');\n            var width = image.attributes.width.value;\n            var height = image.attributes.height.value;\n            var ratio = width / height;\n            container.style.flex = ratio + ' 1 0%';\n        });\n    };\n\n    document.addEventListener('DOMContentLoaded', resizeImagesInGalleries);\n})(window, document);\n","/* eslint-env browser */\n\n/**\n * Infinite Scroll\n * Used on all pages where there is a list of posts (homepage, tag index, etc).\n *\n * When the page is scrolled to 300px from the bottom, the next page of posts\n * is fetched by following the the <link rel=\"next\" href=\"...\"> that is output\n * by {{ghost_head}}.\n *\n * The individual post items are extracted from the fetched pages by looking for\n * a wrapper element with the class \"post-card\". Any found elements are appended\n * to the element with the class \"post-feed\" in the currently viewed page.\n */\n\n(function (window, document) {\n    // next link element\n    var nextElement = document.querySelector('link[rel=next]');\n    if (!nextElement) {\n        return;\n    }\n\n    // post feed element\n    var feedElement = document.querySelector('.post-feed');\n    if (!feedElement) {\n        return;\n    }\n\n    var buffer = 300;\n\n    var ticking = false;\n    var loading = false;\n\n    var lastScrollY = window.scrollY;\n    var lastWindowHeight = window.innerHeight;\n    var lastDocumentHeight = document.documentElement.scrollHeight;\n\n    function onPageLoad() {\n        if (this.status === 404) {\n            window.removeEventListener('scroll', onScroll);\n            window.removeEventListener('resize', onResize);\n            return;\n        }\n\n        // append contents\n        var postElements = this.response.querySelectorAll('article.post-card');\n        postElements.forEach(function (item) {\n            // document.importNode is important, without it the item's owner\n            // document will be different which can break resizing of\n            // `object-fit: cover` images in Safari\n            feedElement.appendChild(document.importNode(item, true));\n        });\n\n        // set next link\n        var resNextElement = this.response.querySelector('link[rel=next]');\n        if (resNextElement) {\n            nextElement.href = resNextElement.href;\n        } else {\n            window.removeEventListener('scroll', onScroll);\n            window.removeEventListener('resize', onResize);\n        }\n\n        // sync status\n        lastDocumentHeight = document.documentElement.scrollHeight;\n        ticking = false;\n        loading = false;\n    }\n\n    function onUpdate() {\n        // return if already loading\n        if (loading) {\n            return;\n        }\n\n        // return if not scroll to the bottom\n        if (lastScrollY + lastWindowHeight <= lastDocumentHeight - buffer) {\n            ticking = false;\n            return;\n        }\n\n        loading = true;\n\n        var xhr = new window.XMLHttpRequest();\n        xhr.responseType = 'document';\n\n        xhr.addEventListener('load', onPageLoad);\n\n        xhr.open('GET', nextElement.href);\n        xhr.send(null);\n    }\n\n    function requestTick() {\n        ticking || window.requestAnimationFrame(onUpdate);\n        ticking = true;\n    }\n\n    function onScroll() {\n        lastScrollY = window.scrollY;\n        requestTick();\n    }\n\n    function onResize() {\n        lastWindowHeight = window.innerHeight;\n        lastDocumentHeight = document.documentElement.scrollHeight;\n        requestTick();\n    }\n\n    window.addEventListener('scroll', onScroll, {passive: true});\n    window.addEventListener('resize', onResize);\n\n    requestTick();\n})(window, document);\n"]}